/*
	PATCH TEST BASED ON THE FOLLOWING REFERENCE:
	R.H. MacNeal and R.L. Harder (1984). A proposed standard set of problems to test finite element accuracy.
	Finite Elements in Analysis and Design, Vol. 1, pp. 3-20
*/

## SEE FIG. 3 AND TAB. 2 OF REFERENCE FOR MORE DETAILS ON THIS TEST
TITLE "STATIC SOLVER TEST SERIES -- TEST 11: CANTILEVER BEAM 1, ASPECT RATIO TEST (MACNEAL, R.H. ET AL, 1984)"


## Analysis settings
BEGIN RUN_SETTINGS WITH ANALYSIS_TYPE = LINEAR_STATIC
	BEGIN OUTPUT WITH FILE = "test_11_cantilever_beam_1", FORMAT = AXIS
		RECORD DISPLACEMENT ALL ON all_nodes
		RECORD STRAIN AT NODES ON SET all_nodes
		RECORD STRAIN AT ELEMENTS ON SET all_elements
		RECORD STRESS AT NODES ON SET all_nodes
		RECORD STRESS AT ELEMENTS ON SET all_elements
	END OUTPUT
END RUN_SETTINGS

/* Our nodes and elements are declared apart in another file. */
BEGIN NODES WITH SET_ID = all_nodes
# ---------------------------
#   ID  | X  |  Y   |  Z
# ---------------------------
	1:   0.0   0.0    0.0
	2:   0.0   0.0    0.1
	3:   1.0   0.0    0.1
	4:   1.0   0.0    0.0
	5:   0.0   0.2    0.0
	6:   0.0   0.2    0.1
	7:   1.0   0.2    0.1
	8:   1.0   0.2    0.0
	9:   2.0   0.0    0.1
	10:  2.0   0.0    0.0
	11:  2.0   0.2    0.1
	12:  2.0   0.2    0.0
	13:  3.0   0.0    0.1
	14:  3.0   0.0    0.0
	15:  3.0   0.2    0.1
	16:  3.0   0.2    0.0
	17:  4.0   0.0    0.1
	18:  4.0   0.0    0.0
	19:  4.0   0.2    0.1
	20:  4.0   0.2    0.0
	21:  5.0   0.0    0.1
	22:  5.0   0.0    0.0
	23:  5.0   0.2    0.1
	24:  5.0   0.2    0.0
	25:  6.0   0.0    0.1
	26:  6.0   0.0    0.0
	27:  6.0   0.2    0.1
	28:  6.0   0.2    0.0
# ---------------------------
END NODES

BEGIN ELEMENTS WITH SET_ID = all_elements
	1 :   1   2   3   4   5   6   7   8
	2 :   4   3   9   10  8   7   11  12
	3 :   10  9   13  14  12  11  15  16
	4 :   14  13  17  18  16  15  19  20
 	5 :   18  17  21  22  20  19  23  24
	6 :   22  21  25  26  24  23  27  28
END ELEMENTS


BEGIN PARTS WITH ELEM_TYPE = LINEAR_HEXAHEDRON, PROPERTIES = () 
	SET all_elements IS LINEAR_ISO_ELASTIC WITH POISSON = 0.3, ELASTIC_MODULUS = 1E7
END PARTS

BEGIN NODE_SET WITH ID = clamp
	1 2 5 6
END NODE_SET

BEGIN NODE_SET WITH ID = load
	13-16
END NODE_SET

BEGIN CONSTRAINTS
	BLOCK MOVEMENT OF clamp ON ALL DIRECTIONS 
END CONSTRAINTS

BEGIN LOADS
	BEGIN NODAL_LOADS
		ON SET load BEHAVES AS unity ON X DIRECTION
	END NODAL_LOADS
END LOADS

BEGIN CURVES
	BEGIN MULTILINE_CURVE WITH ID=unity
		0		-1
		1		-1
	END MULTILINE_CURVE
END CURVES
